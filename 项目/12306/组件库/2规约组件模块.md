**1.定义异常码抽象和公共异常码。**
异常码的不统一，带来的最直接后果就是返回结果异常码混乱，没有规律，也不方便排查问题。
1）异常码接口抽象。
2）封装常用的公共异常码。

公共异常码约定参考阿里
**错误码为字符串类型，共 5 位**。分成两个部分：**错误产生来源 + 四位数字编号**。
错误产生来源分为 **A / B / C**
- A 表示错误来源于用户，比如参数错误，用户安装版本过低，用户支付超时等问题。
- B 表示错误来源于当前系统，往往是业务逻辑出错，或程序健壮性差等问题。
- C 表示错误来源于第三方服务，比如 CDN 服务出错，消息投递超时等问题。
四位数字编号从 0001 到 9999，大类之间的步长间距预留 100。

**2.定义抽象异常和客户端、服务端以及远程调用异常。**
将程序能够处理的RuntimeException分为三类客户端、服务端以及远程调用异常（ClientException、ServiceException和RemoteException），并统一抽象一层 AbstractException定义错误码和错误信息
以上关于异常的抽象都是为了统一异常的处理，进行全局异常处理
**全局拦截**异常（定义在web组件库中）：SpringBoot 提供全局拦截异常注解 `@RestControllerAdvice`
在12306的全局异常拦截中，并没有拦截过多异常，仅对三类异常做出了拦截：
- MethodArgumentNotValidException：**参数异常**，这里需要提供合理的报错信息，所以单独拦截。正常来说，可根据项目需求，可拦截可不拦截。
- AbstractException：上面有提到，**基础组件中封装了三类异常**，它们共有一个父类，这里相当于拦截了三种异常。
- Throwable：拦截**所有异常**，属于兜底方案，如果上面异常都没有拦截到，那么这里通过异常父类来做最后处理。

**3.封装分页对象请求参数和返回参数实体。**
1）分页请求参数对象。
2）分页返回参数对象。
3）提供 MyBatisPlus 分页和自定义分页对象之间的转换工具类，帮助开发提高开发效率。

在请求参数对象和返回参数对象中定义分页数和每页记录条数，后续封装到查询的对象中，将这样的对象传递给数据访问层的查询方法，系统就能够识别并使用这些参数执行相应的数据库查询，从而实现分页功能，不需要强依赖mybatis-plus

**4.封装公共响应对象。**
统一公共响应对象（Result）
1. 返回码
code，这是统一返回体的核心字段，用来标记该请求执行返回结果。
如果返回正常，大部分网站接口返回的往往是 0。另外，根据阿里 Java 开发手册（崇山版）错误码列表规定，返回 00000，这里以前者为主。
返回码不止是正确的，同样包含错误（异常码）。
2. 返回消息
message，当前请求状态码描述，如果接口请求成功，为空。如果接口请求异常，这里是对应的异常错误提示信息。
3. 返回数据
data，当前请求返回响应数据。
4. 请求 ID
requestId，该 ID 也可以当作链路追踪 TraceID 来看，用来串联当前请求的上下文，以及分布式链路追踪错误排查的依据。
通过统一返回体约束，可以很好与前端形成良好规范，避免多个项目“各自为战”，不方便重构和监控。